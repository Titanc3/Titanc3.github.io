<!DOCTYPE html>
<html lang="en">
<head>
  <title id="title">Titanc3's Time</title>
  <link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/Titanc3/Titanc3.github.io/main/_includes/triangle.jpg">
  <link rel="stylesheet" type="text/css" href="https://titanc3.github.io/linkfolder/link.css">
  <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/Titanc3/Titanc3.github.io/main/_includes/MediumDefImage.png">
  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="A free online schedule tracker">
  <meta name="keywords" content="Free, Online, School, Schedule, Time, Tracker">
  <meta name="language" content="en">
</head>

<div id="overlay" class="overlay" onclick="document.getElementById('overlay').style.display = 'none';" style="display: none;">
  <div class="icons">
    <a href="sms:"><img src="https://raw.githubusercontent.com/Titanc3/Titanc3.github.io/main/_includes/social/red/Msg.png"></a>
    <a id="Link" onclick="link()" href="#"><img></a>
    <br class="mobile">
    <a id="Email" href="mailto:?subject=Interesting%20Website&amp;body=I%20found%20an%20interesting%20website%20with%20games%20and%20stuff,%20check%20it%20out!%20https://titanc3.github.io/test" target="_blank"><img src="https://raw.githubusercontent.com/Titanc3/Titanc3.github.io/main/_includes/social/red/Email.png"></a>
    <br class="pc">
    <a id="Facebook" href="https://www.facebook.com/dialog/send?link=https://titanc3.github.io/test&amp;redirect_uri=https://titanc3.github.io/test&amp;message=Interesting%20Website&amp;body=I%20found%20an%20interesting%20website%20with%20games%20and%20stuff,%20check%20it%20out!%20https://titanc3.github.io/test" target="_blank"><img></a>
    <br class="mobile">
    <a id="Pinterest" href="https://pinterest.com/pin-builder/?url=github.com/Titanc3/Titanc3.github.io" target="_blank"><img src="https://raw.githubusercontent.com/Titanc3/Titanc3.github.io/main/_includes/social/blue/Pinterest.png"></a>
    <a id="Twitter" href="https://twitter.com/intent/tweet?text=Interesting%20github%20website%20for%20students,%20https://titanc3.github.io/test" target="_blank"><img></a>
  </div>
</div>
  
<div id="menu-overlay" class="overlay" onclick="document.getElementById('menu-overlay').style.display = 'none';" style="display: none; text-align: center;">
    <br><br>
    <img src="https://raw.githubusercontent.com/Titanc3/Titanc3.github.io/main/_includes/Menu.png" alt="Menu"></h1>
    <br><br>
    <a href="https://titanc3.github.io/other/Q_A" class="btn">Suggest an Update</a>
    <a style="display: inline-block;" class="btn" target="_blank" href="https://bmc.link/titanc3">ğŸ’²DonateğŸ’²</a>
    <br><br>
    <a href="https://titanc3.github.io/games" class="btn">ğŸ® Games ğŸ®</a>
    <a style="display: inline-block;" href="https://titanc3.github.io/other" class="btn">â“Otherâ“</a>
    <br><br>
    <a href="https://titanc3.github.io/blog" class="btn">ğŸ’¬ Blog ğŸ’¬</a>
    <a style="display: inline-block;" href="#" class="btn" onclick="document.getElementById('overlay').style.display = 'block';">ğŸ”— Link ğŸ”—</a>
    <br><br>
    <a style="width: 60vw;" href="https://titanc3.github.io/settings" class="btn">âš™ Settings âš™</a>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-4N3KQ6NGRD"></script>
<script src="https://titanc3.github.io/TrackingScript.js"></script>
<script src="https://titanc3.github.io/linkfolder/link.js"></script>
  
<body>
  <header>
    <div class="container">
      <div id="Menu-Button" onclick="document.getElementById('menu-overlay').style.display = 'block';" style="height: 60px;width: 60px;background-color: black;color: white;vertical-align: top;background: url(https://raw.githubusercontent.com/Titanc3/Titanc3.github.io/main/_includes/Menu-Icon.png);"></div>
      <div style="display:inline-block;">
      <a href="https://titanc3.github.io" style="text-decoration: none;"><img src="https://raw.githubusercontent.com/Titanc3/Titanc3.github.io/main/_includes/NewTitle.png" alt="Titanc3" style="width:200px;height:33px;"></a>
      <h2>Time Period Checker</h2>
    </div>
    <section id="Sites-Pages">
      <a href="https://titanc3.github.io/other/Q_A" class="btn">Suggest an Update</a>
      <a href="https://bmc.link/titanc3" target="_blank" class="btn">Donate</a>
      <a href="https://titanc3.github.io/games" class="btn">Games</a>
      <a href="https://titanc3.github.io/other" class="btn">Other</a> 
      <a href="https://titanc3.github.io/blog" class="btn">Blog</a>
      <a href="#" class="btn" onclick="document.getElementById('overlay').style.display = 'block';">ğŸ”—</a>
      <a href="https://titanc3.github.io/settings" class="btn">âš™</a>
    </section>
    </div>
  </header>
  <div class="container">
    <p style="text-align:center"><a href="https://titanc3.github.io/other/time_period/urlcreatorpage" class="btn" id="tutorialNextLink">Click to create a schedule</a> <input class="time" id="timeSet" type="checkbox" name="timeSet" value="12"> <label for="timeSet"> 12hr Clock</label></p> 
    <h2 style="text-align:center;color:#666666;" id="title"></h2>
    <div style="text-align:center;"><h1 id="line1L" style="display:inline;"></h1><h1 style="display:inline;color:#666666;"> | </h1><h1 id="line1R" style="display:inline;color:#ac1616;"></h1></div><br>
    <div style="text-align:center;"><h1 id="line2L" style="display:inline;"></h1><h1 style="display:inline;color:#666666;"> | </h1><h1 id="line2R" style="display:inline;color:#ac1616;"></h1></div><br>
    <h3 style="text-align:left;font-size:20px;" id="schedule"></h3>
  </div>
</body>

<script>
  function addText1(text) {
    const para = document.createElement("h3");
    para.innerText = text;
    para.style.margin = "0px"
    document.getElementById("schedule").appendChild(para);
  }
  function addText2(text) {
    const para = document.createElement("h3");
    para.innerText = text;
    para.style.margin = "0px 0px 25px"
    para.style.color = "#666666"
    document.getElementById("schedule").appendChild(para);
  }

  function short(array, hours, minutes, seconds, one, two, three, four) {
    return (((array[one][two]*60)+array[three][four])*60)-(((hours*60)+minutes)*60+seconds);
  }

  function timedUpdate() {
    iterations += 1;
    let d = new Date();
    let sec = d.getSeconds();
    let min = d.getMinutes();
    let hr = d.getHours();
    let till = 0;
    for (item of fullList) {
      if ((item[1][0]*60)+item[1][1] > (hr*60)+min) {
        till = item;
        break;
      }
    }
    let tillEnd = 0;
    if ((fullList[fullList.length-1][1][0]*60)+fullList[fullList.length-1][1][1] > (hr*60)+min) {
      tillEnd = [fullList[0][0],fullList[fullList.length-1][1],fullList[fullList.length-1][2]];
    }
    if (till == 0) { 
      document.getElementById("line1L").innerHTML = "End of"; 
      document.getElementById("line2L").innerHTML = title;
      document.getElementById("line1R").innerHTML = "End of"; 
      document.getElementById("line2R").innerHTML = title;
    }
    else if (short(till, hr, min, sec, 0, 0, 0, 1) == Math.abs(short(till, hr, min, sec, 0, 0, 0, 1))) {
      let diff = short(till, hr, min, sec, 0, 0, 0, 1)
      Hours1 = Math.floor(diff/60/60)
      Minutes1 = Math.floor(((diff/60/60)-(Math.floor(diff/60/60)))*60)
      Seconds1 = diff-Minutes1*60-Hours1*3600
      Finish1 = "Till "+till[2]
      document.getElementById("line1L").innerHTML = `${Hours1} Hrs ${Minutes1} Mins ${Seconds1} Secs  `;
      document.getElementById("line2L").innerHTML = Finish1
    }
    else if (short(till, hr, min, sec, 1, 0, 1, 1) == Math.abs(short(till, hr, min, sec, 1, 0, 1, 1))) {
      let diff = short(till, hr, min, sec, 1, 0, 1, 1)
      Hours1 = Math.floor(diff/60/60)
      Minutes1 = Math.floor(((diff/60/60)-(Math.floor(diff/60/60)))*60)
      Seconds1 = diff-Minutes1*60-Hours1*3600
      Finish1 = "Till end of "+till[2]
      document.getElementById("line1L").innerHTML = `${Hours1} Hrs ${Minutes1} Mins ${Seconds1} Secs  `;
      document.getElementById("line2L").innerHTML = "Till the end of "+till[2]
    }
    if (tillEnd == 0) {}
      else if (short(tillEnd, hr, min, sec, 0, 0, 0, 1) == Math.abs(short(tillEnd, hr, min, sec, 0, 0, 0, 1))) {
      let diff = short(tillEnd, hr, min, sec, 0, 0, 0, 1)
      Hours2 = Math.floor(diff/60/60)
      Minutes2 = Math.floor(((diff/60/60)-(Math.floor(diff/60/60)))*60)
      Seconds2 = diff-Minutes2*60-Hours2*3600
      Finish2 = "Till "+title
      document.getElementById("line1R").innerHTML = `${Hours2} Hrs ${Minutes2} Mins ${Seconds2} Secs  `;
      document.getElementById("line2R").innerHTML = "Till "+title
    }
    else if (short(tillEnd, hr, min, sec, 1, 0, 1, 1) == Math.abs(short(tillEnd, hr, min, sec, 1, 0, 1, 1))) {
      let diff = short(tillEnd, hr, min, sec, 1, 0, 1, 1)
      Hours2 = Math.floor(diff/60/60)
      Minutes2 = Math.floor(((diff/60/60)-(Math.floor(diff/60/60)))*60)
      Seconds2 = diff-Minutes2*60-Hours2*3600
      Finish2 = "Till end of "+title
      document.getElementById("line1R").innerHTML = `${Hours2} Hrs ${Minutes2} Mins ${Seconds2} Secs  `;
      document.getElementById("line2R").innerHTML = "Till the end of "+title
    }
    document.getElementById("schedule").innerHTML = ""
    if (document.querySelector('.time:checked') != null) {
      for (const miniList of fullList) { // displaying info loop
        let a = miniList[0][1];
        let b = miniList[1][1];
        if (a.toString().length == 1) { a="0"+a.toString() }
        if (b.toString().length == 1) { b="0"+b.toString() }
        
        if (miniList[0][0] >= 12) {
          if (miniList[0][0] == 12) {newHour = `${miniList[0][0]} PM`.split(" ")}
          else {newHour = `${miniList[0][0]-12} PM`.split(" ")}
        }
          
        else {
          if (miniList[0][0] == 0) {newHour = `12 AM`.split(" ") }
          else {newHour = `${miniList[0][0]} AM`.split(" ") }
        }
        
        if (miniList[1][0] >= 12) {
          if (miniList[1][0] == 12) {newHour2 = `${miniList[1][0]} PM`.split(" ")}
          else {newHour2 = `${miniList[1][0]-12} PM`.split(" ")}
        }
          
        else { 
          if (miniList[1][0] == 0) {newHour2 = `${miniList[1][0]} AM`.split(" ")}
          else {newHour2 = `${miniList[1][0]} AM`.split(" ")}
        }
        addText1(miniList[2])
   	    addText2(`${newHour[0]}:${a} ${newHour[1]}- ${newHour2[0]}:${b} ${newHour2[1]}`)
        
      }
    }
    else {
      
      for (const miniList of fullList) { // displaying info loop
      let a = miniList[0][1];
      let b = miniList[1][1];
      if (a.toString().length == 1) { a="0"+a.toString() }
      if (b.toString().length == 1) { b="0"+b.toString() }
      addText1(miniList[2])
      addText2(`${miniList[0][0]}:${a} - ${miniList[1][0]}:${b}`)
      }
    }
  if (typeof Hours1 == "undefined" || parseInt(Hours1+Hours2+Minutes1+Minutes2) == 0 && parseInt(Seconds1) == parseInt(Seconds2) == 1) {
    document.getElementById("title").innerHTML = `End of ${title}`
  }
  else if (iterations <= 30) {
    document.getElementById("title").innerHTML = `Titanc3's Time`
  }
  else if (iterations <= 70) {
    if (Hours1.toString().length == 1) {Hours1 = "0"+Hours1.toString()}
    if (Minutes1.toString().length == 1) {Minutes1 = "0"+Minutes1.toString()}
    if (Seconds1.toString().length == 1) {Seconds1 = "0"+Seconds1.toString()}
    document.getElementById("title").innerHTML = `${Hours1}:${Minutes1}:${Seconds1} ${Finish1}`
  }
  else if (iterations <= 110) {
    if (Hours2.toString().length == 1) {Hours2 = "0"+Hours2.toString()}
    if (Minutes2.toString().length == 1) {Minutes2 = "0"+Minutes2.toString()}
    if (Seconds2.toString().length == 1) {Seconds2 = "0"+Seconds2.toString()}
    document.getElementById("title").innerHTML = `${Hours2}:${Minutes2}:${Seconds2} ${Finish2}`
  }
  else {
    iterations = 0
  }
  }

  function getParameterByName(name, url = window.location.href) {
    name = name.replace(/[\[\]]/g, '\\$&');
    var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, ' '));
  }

  function decrypt(index, index2) { return symbols.indexOf(timesInMinutes[index][index2]); }

  iterations = 0;
  const fullList = [];
  const symbols =  "âˆ† âˆ‡ âˆ â‰¡ â‰£ âŠ âŠ âŠ‘ âŠ’ âŠ• âŠ– âŠ— âŠ˜ âŠ™ âŠš âŠ› âŠœ âŠ âŠ âŠŸ âŠ  âŠ¡ âŠ¿ â‹„ â‹ â‹‘ â‹’ â‹“ â â‚ â” â–¡ â–¢ â–£ â–¤ â–¥ â–¦ â–§ â–¨ â–© â–ª â–« â–¬ â–­ â–® â–¯ â–° â–± â–² â–³ â–´ â–µ â–¶ â–· â–¸ â–¹ â–» â–¼ â–½ â–¾ â–¿ â—€ â— â—‚ â—ƒ â—… â—† â—‡ â—ˆ â—‰ â—Š â—‹ â—Œ â— â— â— â— â—‘ â—’ â—“ â—” â—• â—– â—— â—§ â—¨ â—© â—ª â—« â—¬ â—­ â—® â—¯ â—° â—± â—² â—³ â—´ â—µ â—¶".split(" ");
  m = getParameterByName("m");
  names = getParameterByName("names");
  title = getParameterByName("title");
	


  if (m != null && names != null && title != null) {
    timesInMinutes = m.split("|"); // query variables
    names = names.split("|");

    for (let i = 0; i < timesInMinutes.length; i+=2) {
    
      fullList.push([[decrypt(i, 0), decrypt(i, 1)], [decrypt(i+1, 0), decrypt(i+1, 1)], names[i/2]]); //xtra rip reading code, format: [[hr, min](start), [hr, min](stop), name]
    }

// url example:   titanc3.github.io/period?m=âˆ†â‰£|âŠâŠ|âŠ™âŠš|âŠ›âŠ|âŠŸâŠ |âŠŸâŠ›&names=poop|zoop|sloop&title=scholo

    console.log("Hey! No snooping!");
    setInterval(timedUpdate, 125);
  }
</script>
  
<script src="https://titanc3.github.io/other/tutorial.js"></script>
<script> window.onload = function() { tutorialCookie("This is the school/work schedule tracker page\nIt'l calculate the time till the next period\nThe next pages show how to set it up ğŸ‘Œ", "/other/time_period/urlcreatorpage"); };</script>

</html>
